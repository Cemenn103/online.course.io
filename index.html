<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Тест с объяснениями</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .question {
            display: none;
        }
        .question.active {
            display: block;
        }
        .explanation {
            display: none;
            color: #721c24;
            background-color: #f8d7da;
            padding: 10px;
            margin-top: 10px;
            border: 1px solid #f5c6cb;
        }
        button {
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
            margin-top: 10px;
        }
        button:hover {
            background-color: #45a049;
        }
        .result {
            display: none;
            padding: 20px;
            background-color: #f0f0f0;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div id="quiz">
        <!-- Вопрос 1 -->
        <div class="question" data-correct="10">
            <h2>1. Какой цвет неба в ясный день?</h2>
            <input type="radio" name="q1" value="10" onclick="checkAnswer(1, this)"> Синий<br>
            <input type="radio" name="q1" value="5" onclick="checkAnswer(1, this)"> Красный<br>
            <input type="radio" name="q1" value="3" onclick="checkAnswer(1, this)"> Зеленый<br>
            <div id="explanation1" class="explanation"></div>
            <button onclick="nextQuestion(1)">Далее</button>
        </div>

        <!-- Вопрос 2 -->
        <div class="question" data-correct="10">
            <h2>2. Сколько будет 2 + 2?</h2>
            <input type="radio" name="q2" value="5" onclick="checkAnswer(2, this)"> 22<br>
            <input type="radio" name="q2" value="10" onclick="checkAnswer(2, this)"> 4<br>
            <input type="radio" name="q2" value="3" onclick="checkAnswer(2, this)"> 5<br>
            <div id="explanation2" class="explanation"></div>
            <button onclick="nextQuestion(2)">Далее</button>
        </div>

        <!-- Вопрос 3 -->
        <div class="question" data-correct="10">
            <h2>3. Что тяжелее?</h2>
            <input type="radio" name="q3" value="10" onclick="checkAnswer(3, this)"> Слон<br>
            <input type="radio" name="q3" value="5" onclick="checkAnswer(3, this)"> Перо<br>
            <input type="radio" name="q3" value="3" onclick="checkAnswer(3, this)"> Воздух<br>
            <div id="explanation3" class="explanation"></div>
            <button onclick="nextQuestion(3)">Далее</button>
        </div>

        <!-- Вопрос 4 -->
        <div class="question" data-correct="10">
            <h2>4. Какая планета самая большая в Солнечной системе?</h2>
            <input type="radio" name="q4" value="5" onclick="checkAnswer(4, this)"> Земля<br>
            <input type="radio" name="q4" value="10" onclick="checkAnswer(4, this)"> Юпитер<br>
            <input type="radio" name="q4" value="3" onclick="checkAnswer(4, this)"> Марс<br>
            <div id="explanation4" class="explanation"></div>
            <button onclick="nextQuestion(4)">Далее</button>
        </div>

        <!-- Вопрос 5 -->
        <div class="question" data-correct="10">
            <h2>5. Сколько месяцев в году?</h2>
            <input type="radio" name="q5" value="5" onclick="checkAnswer(5, this)"> 10<br>
            <input type="radio" name="q5" value="3" onclick="checkAnswer(5, this)"> 11<br>
            <input type="radio" name="q5" value="10" onclick="checkAnswer(5, this)"> 12<br>
            <div id="explanation5" class="explanation"></div>
            <button onclick="nextQuestion(5)">Результат</button>
        </div>

        <!-- Результат -->
        <div id="result" class="result">
            <h2>Ваш результат: <span id="score">0</span> баллов</h2>
        </div>
    </div>

    <script>
        let currentQuestion = 0;
        let totalScore = 0;
        const questions = document.getElementsByClassName('question');
        let answered = new Array(questions.length).fill(false);

        // Показываем первый вопрос
        questions[0].classList.add('active');

        function checkAnswer(questionNum, radioElement) {
            const question = questions[questionNum - 1];
            const correctAnswer = question.getAttribute('data-correct');
            const explanationDiv = document.getElementById(`explanation${questionNum}`);
            const radios = question.querySelectorAll('input[type="radio"]');

            // Если вопрос уже отвечен, ничего не делаем
            if (answered[questionNum - 1]) {
                radioElement.checked = false;
                return;
            }

            // Отмечаем вопрос как отвеченный
            answered[questionNum - 1] = true;

            if (radioElement.value !== correctAnswer) {
                explanationDiv.style.display = 'block';
                switch(questionNum) {
                    case 1:
                        if (radioElement.value === "5") {
                            explanationDiv.textContent = 'Неверно. Красный цвет неба бывает на закате, а не в ясный день.';
                        } else if (radioElement.value === "3") {
                            explanationDiv.textContent = 'Неверно. Зеленый цвет неба не встречается в природе в ясную погоду.';
                        }
                        break;
                    case 2:
                        if (radioElement.value === "5") {
                            explanationDiv.textContent = 'Неверно. 22 - это конкатенация, а не сумма чисел.';
                        } else if (radioElement.value === "3") {
                            explanationDiv.textContent = 'Неверно. 5 - это результат сложения 2 и 3, а не 2 и 2.';
                        }
                        break;
                    case 3:
                        if (radioElement.value === "5") {
                            explanationDiv.textContent = 'Неверно. Перо намного легче слона.';
                        } else if (radioElement.value === "3") {
                            explanationDiv.textContent = 'Неверно. Воздух не имеет веса, сравнимого со слоном.';
                        }
                        break;
                    case 4:
                        if (radioElement.value === "5") {
                            explanationDiv.textContent = 'Неверно. Земля меньше Юпитера по размеру.';
                        } else if (radioElement.value === "3") {
                            explanationDiv.textContent = 'Неверно. Марс значительно меньше Юпитера.';
                        }
                        break;
                    case 5:
                        if (radioElement.value === "5") {
                            explanationDiv.textContent = 'Неверно. В году не 10 месяцев, а больше.';
                        } else if (radioElement.value === "3") {
                            explanationDiv.textContent = 'Неверно. 11 месяцев - это почти год, но не совсем.';
                        }
                        break;
                }
                // За неправильный ответ баллы не начисляются
                radios.forEach(radio => radio.disabled = true);
            } else {
                // Только правильный ответ добавляет баллы
                explanationDiv.style.display = 'none';
                totalScore += parseInt(radioElement.value);
                radios.forEach(radio => radio.disabled = true);
            }
        }

        function nextQuestion(current) {
            const currentQ = questions[current - 1];
            const selected = currentQ.querySelector('input[type="radio"]:checked');
            
            if (!selected) {
                alert('Пожалуйста, выберите ответ');
                return;
            }

            if (current < questions.length) {
                currentQ.classList.remove('active');
                questions[current].classList.add('active');
            } else {
                currentQ.classList.remove('active');
                const resultDiv = document.getElementById('result');
                const scoreSpan = document.getElementById('score');
                scoreSpan.textContent = totalScore;
                resultDiv.style.display = 'block';
            }
        }
    </script>
</body>
</html>
